label substring
push lr _ _
push fp _ _
mov sp _ fp
sub|i2 sp 4 sp
mov fp _ r3
sub r2 r1 r4
add|i2 r4 1 r5
store r5 r3 _
sub|i2 fp 1 r3
push r0 _ _
push r1 _ _
push r2 _ _
push r3 _ _
mov fp _ r4
load r4 _ r5
add|i2 r5 1 r4
mov r4 _ r0
call @malloc _ _
mov r0 _ r4
pop _ _ r3
pop _ _ r2
pop _ _ r1
pop _ _ r0
store r4 r3 _
sub|i2 fp 2 r3
store|i1 0 r3 _
sub|i2 fp 3 r3
store r1 r3 _
label _substring_while0
sub|i2 fp 3 r3
load r3 _ r4
ifMore r4 r2 _substring_whileEnd0
sub|i2 fp 1 r3
load r3 _ r4
sub|i2 fp 2 r3
load r3 _ r5
add r4 r5 r6
sub|i2 fp 3 r4
load r4 _ r5
add r0 r5 r7
load r7 _ r4
store r4 r6 _
sub|i2 fp 2 r3
sub|i2 fp 2 r4
load r4 _ r5
add|i2 r5 1 r4
store r4 r3 _
sub|i2 fp 3 r3
sub|i2 fp 3 r4
load r4 _ r5
add|i2 r5 1 r4
store r4 r3 _
jump _substring_while0 _ pc
label _substring_whileEnd0
sub|i2 fp 1 r3
load r3 _ r4
mov fp _ r3
load r3 _ r5
add r4 r5 r6
store|i1 0 r6 _
sub|i2 fp 1 r3
load r3 _ r4
mov r4 _ r0
mov fp _ sp
pop _ _ fp
pop _ _ lr
return _ _ _
mov fp _ sp
pop _ _ fp
pop _ _ lr
return _ _ _
