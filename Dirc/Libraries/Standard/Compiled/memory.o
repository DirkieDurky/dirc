label malloc
push lr _ _
push fp _ _
mov sp _ fp
sub|i2 sp 2 sp
mov fp _ r1
store|i1 1 r1 _
sub|i2 fp 1 r1
mov fp _ r2
load r2 _ r3
load r3 _ r2
store r2 r1 _
sub|i2 fp 1 r1
load r1 _ r2
sub|i2 r2 1 r1
store r0 r1 _
mov fp _ r1
load r1 _ r2
mov fp _ r1
load r1 _ r3
load r3 _ r1
add|i2 r0 1 r3
add r1 r3 r4
store r4 r2 _
sub|i2 fp 1 r1
load r1 _ r2
mov r2 _ r0
mov fp _ sp
pop _ _ fp
pop _ _ lr
return _ _ _
mov fp _ sp
pop _ _ fp
pop _ _ lr
return _ _ _

label free
push lr _ _
push fp _ _
mov sp _ fp
mov fp _ sp
pop _ _ fp
pop _ _ lr
return _ _ _

label getSize
push lr _ _
push fp _ _
mov sp _ fp
sub|i2 r0 1 r1
load r1 _ r2
mov r2 _ r0
mov fp _ sp
pop _ _ fp
pop _ _ lr
return _ _ _
mov fp _ sp
pop _ _ fp
pop _ _ lr
return _ _ _

label realloc
push lr _ _
push fp _ _
mov sp _ fp
sub|i2 sp 2 sp
push r0 _ _
push r1 _ _
sub|i2 fp 2 r2
load r2 _ r3
mov r3 _ r0
call free _ _
mov r0 _ r2
pop _ _ r1
pop _ _ r0
mov fp _ r2
push r0 _ _
push r1 _ _
push r2 _ _
sub|i2 fp 3 r3
load r3 _ r4
mov r4 _ r0
call malloc _ _
mov r0 _ r3
pop _ _ r2
pop _ _ r1
pop _ _ r0
store r3 r2 _
mov fp _ r2
load r2 _ r3
ifEq r3 r0 _memory_if0
sub|i2 fp 1 r2
store|i1 0 r2 _
label _memory_while0
sub|i2 fp 1 r2
load r2 _ r3
push r0 _ _
push r1 _ _
push r3 _ _
push r0 _ _
push r1 _ _
push r3 _ _
sub|i2 fp 2 r2
load r2 _ r4
mov r4 _ r0
call getSize _ _
mov r0 _ r2
pop _ _ r3
pop _ _ r1
pop _ _ r0
mov r2 _ r0
sub|i2 fp 3 r4
load r4 _ r5
mov r5 _ r1
call @min _ _
mov r0 _ r2
pop _ _ r3
pop _ _ r1
pop _ _ r0
ifMoreOrEq r3 r2 _memory_whileEnd0
mov fp _ r2
load r2 _ r3
sub|i2 fp 1 r2
load r2 _ r4
add r3 r4 r5
sub|i2 fp 1 r3
load r3 _ r4
add r0 r4 r6
load r6 _ r3
store r3 r5 _
sub|i2 fp 1 r2
sub|i2 fp 1 r3
load r3 _ r4
add|i2 r4 1 r3
store r3 r2 _
jump _memory_while0 _ pc
label _memory_whileEnd0
label _memory_if0
mov fp _ r2
load r2 _ r3
mov r3 _ r0
mov fp _ sp
pop _ _ fp
pop _ _ lr
return _ _ _
mov fp _ sp
pop _ _ fp
pop _ _ lr
return _ _ _
